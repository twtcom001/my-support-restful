webpackJsonp([5],{IMKU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("vLgD");var l={data:function(){return{url:"/api/v2.1/plant",tableData:[],dialogFormVisible:!1,dialogForm1Visible:!1,currentPage:1,pageSize:10,keys:"",form:{genus:"",icbn_name:"",chinese_name:"",osn:"",sn:"",summary:""},form1:{genus:"",icbn_name:"",chinese_name:"",osn:"",sn:"",summary:""},options:[],formLabelWidth:"120px",pageTotal:0}},created:function(){this.getData(this.currentPage,this.pageSize,this.keys),this.getType()},methods:{keysEdit:function(){this.keys=this.input5,this.getData(this.currentPage,this.pageSize,this.keys)},onSubmit:function(){var e,t=this;console.log(this.form),(e=this.form,Object(o.a)({url:"/api/v2.1/plant",method:"post",data:e})).then(function(e){t.dialogFormVisible=!1,t.$message.success("提交成功！"),t.getData(t.currentPage,t.pageSize),t.form.genus="",t.form.icbn_name="",t.form.chinese_name="",t.form.osn="",t.form.sn="",t.form.summary=""},function(e){t.$message.success("提交失败！")})},form1onSubmit:function(){var e,t=this;(e=this.form1,Object(o.a)({url:"/api/v2.1/plant/"+e.id,method:"put",data:e})).then(function(e){t.dialogForm1Visible=!1,t.$message.success("提交成功！"),t.getData(t.currentPage,t.pageSize)},function(e){t.$message.success("提交失败！")})},getData:function(e,t,a){var l,n=this;(l={page:e,size:t,keys:a},Object(o.a)({url:"/api/v2.1/plant",method:"get",params:l})).then(function(e){console.log(e.data),n.tableData=e.data.list,n.pageTotal=e.data.total,n.currentPage=e.data.page,n.pageSize=e.data.size},function(e){})},getType:function(){var e=this;Object(o.a)({url:"/api/v2.0/dict/plant",method:"get"}).then(function(t){console.log(t.data),e.options=t.data.list,console.log(e.options)},function(e){})},indexMethod:function(e){return e+1},handleEdit:function(e,t){this.form1.genus=t.genus,this.form1.icbn_name=t.icbn_name,this.form1.chinese_name=t.chinese_name,this.form1.id=t.id,this.form1.osn=t.osn,this.form1.sn=t.sn,this.form1.summary=t.summary,this.dialogForm1Visible=!0},handleDelete:function(e,t,a){var l,n=this;(l="/api/v2.1/plant/del/"+t.id,Object(o.a)({url:l,method:"get"})).then(function(o){n.$message.success(t.key+" 删除成功！"),a.splice(e,1)},function(e){n.$message.success(t.key+" 删除失败！")})},handleSizeChange:function(e){console.log("每页 "+e+" 条"+this.currentPage+"页"),this.$options.methods.getData.bind(this)(this.currentPage,e,this.keys)},handleCurrentChange:function(e){console.log(this.pageSize),console.log(e),this.$options.methods.getData.bind(this)(e,this.pageSize,this.keys)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.input5,callback:function(t){e.input5=t},expression:"input5"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.keysEdit},slot:"append"})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!0}}},[a("i",{staticClass:"el-icon-edit"}),e._v("添加")])],1)],1)],1),e._v(" "),a("div",[a("el-dialog",{attrs:{title:"新增",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"属","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.genus,callback:function(t){e.$set(e.form,"genus",t)},expression:"form.genus"}},e._l(e.options,function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"ICBN","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.icbn_name,callback:function(t){e.$set(e.form,"icbn_name",t)},expression:"form.icbn_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"中文名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.chinese_name,callback:function(t){e.$set(e.form,"chinese_name",t)},expression:"form.chinese_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"来源编码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.osn,callback:function(t){e.$set(e.form,"osn",t)},expression:"form.osn"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"编码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.sn,callback:function(t){e.$set(e.form,"sn",t)},expression:"form.sn"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"简介","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.summary,callback:function(t){e.$set(e.form,"summary",t)},expression:"form.summary"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("div",[a("el-dialog",{attrs:{title:"编辑",visible:e.dialogForm1Visible},on:{"update:visible":function(t){e.dialogForm1Visible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"属","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form1.genus,callback:function(t){e.$set(e.form1,"genus",t)},expression:"form1.genus"}},e._l(e.options,function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"ICBN","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form1.icbn_name,callback:function(t){e.$set(e.form1,"icbn_name",t)},expression:"form1.icbn_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"中文名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form1.chinese_name,callback:function(t){e.$set(e.form1,"chinese_name",t)},expression:"form1.chinese_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"来源编码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form1.osn,callback:function(t){e.$set(e.form1,"osn",t)},expression:"form1.osn"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"编码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form1.sn,callback:function(t){e.$set(e.form1,"sn",t)},expression:"form1.sn"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"简介","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form1.summary,callback:function(t){e.$set(e.form1,"summary",t)},expression:"form1.summary"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.form1onSubmit}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{prop:"genus",label:"属",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"icbn_name",label:"ICBN",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"chinese_name",label:"中文名",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"osn",label:"来源编码",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"sn",label:"编码",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"head_img",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row,e.tableData)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]},i=a("VU/8")(l,n,!1,null,null,null);t.default=i.exports}});