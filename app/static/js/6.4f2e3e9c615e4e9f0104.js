webpackJsonp([6],{"4wk8":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("vLgD");var l={data:function(){return{url:"/api/v2.1/address",tableData:[],dialogFormVisible:!1,dialogForm1Visible:!1,currentPage:1,pageSize:10,keys:"",form:{name:"",address:"",mobile:"",address_type:"",telephone:"",comment:""},form1:{name:"",address:"",mobile:"",address_type:"",telephone:"",comment:""},options:[],formLabelWidth:"120px",pageTotal:0}},created:function(){this.getData(this.currentPage,this.pageSize,this.keys),this.getType()},methods:{keysEdit:function(){this.keys=this.input5,this.getData(this.currentPage,this.pageSize,this.keys)},onSubmit:function(){var e,t=this;console.log(this.form),(e=this.form,Object(a.a)({url:"/api/v2.1/address",method:"post",data:e})).then(function(e){t.dialogFormVisible=!1,t.$message.success("提交成功！"),t.getData(t.currentPage,t.pageSize),t.form.name="",t.form.address="",t.form.address_type="",t.form.mobile="",t.form.telephone=""},function(e){t.$message.success("提交失败！")})},form1onSubmit:function(){var e,t=this;(e=this.form1,Object(a.a)({url:"/api/v2.1/address/"+e.id,method:"put",data:e})).then(function(e){t.dialogForm1Visible=!1,t.$message.success("提交成功！"),t.getData(t.currentPage,t.pageSize)},function(e){t.$message.success("提交失败！")})},getData:function(e,t,o){var l,s=this;console.log(e),(l={page:e,size:t,keys:o},Object(a.a)({url:"/api/v2.1/address",method:"get",params:l})).then(function(e){s.tableData=e.data.list,s.pageTotal=e.data.total,s.currentPage=e.data.page,s.pageSize=e.data.size},function(e){})},getType:function(){var e=this;Object(a.a)({url:"/api/v2.0/dict/address",method:"get"}).then(function(t){console.log(t.data),e.options=t.data.list,console.log(e.options)},function(e){})},indexMethod:function(e){return e+1},handleEdit:function(e,t){this.form1.name=t.name,this.form1.address=t.address,this.form1.address_type=t.address_type,this.form1.id=t.id,this.form1.mobile=t.mobile,this.form1.telephone=t.telephone,this.form1.comment=t.comment,this.dialogForm1Visible=!0},handleDelete:function(e,t,o){var l,s=this;(l="/api/v2.1/address/del/"+t.id,Object(a.a)({url:l,method:"get"})).then(function(a){s.$message.success(t.key+" 删除成功！"),o.splice(e,1)},function(e){s.$message.success(t.key+" 删除失败！")})},handleSizeChange:function(e){console.log("每页 "+e+" 条"+this.currentPage+"页"),this.$options.methods.getData.bind(this)(this.currentPage,e,this.keys)},handleCurrentChange:function(e){console.log(this.pageSize),console.log(e),this.$options.methods.getData.bind(this)(e,this.pageSize,this.keys)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("el-row",[o("el-col",{attrs:{span:22}},[o("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.input5,callback:function(t){e.input5=t},expression:"input5"}},[o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.keysEdit},slot:"append"})],1)],1),e._v(" "),o("el-col",{attrs:{span:2}},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!0}}},[o("i",{staticClass:"el-icon-edit"}),e._v("添加")])],1)],1)],1),e._v(" "),o("div",[o("el-dialog",{attrs:{title:"新增",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{attrs:{model:e.form}},[o("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"地址","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"地址类型","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.address_type,callback:function(t){e.$set(e.form,"address_type",t)},expression:"form.address_type"}},e._l(e.options,function(e){return o("el-option",{attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"手机号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"电话号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)],1),e._v(" "),o("div",[o("el-dialog",{attrs:{title:"编辑",visible:e.dialogForm1Visible},on:{"update:visible":function(t){e.dialogForm1Visible=t}}},[o("el-form",{attrs:{model:e.form}},[o("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form1.name,callback:function(t){e.$set(e.form1,"name",t)},expression:"form1.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"地址","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form1.address,callback:function(t){e.$set(e.form1,"address",t)},expression:"form1.address"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"地址类型","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form1.address_type,callback:function(t){e.$set(e.form1,"address_type",t)},expression:"form1.address_type"}},e._l(e.options,function(e){return o("el-option",{attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"手机号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form1.mobile,callback:function(t){e.$set(e.form1,"mobile",t)},expression:"form1.mobile"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"电话号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form1.telephone,callback:function(t){e.$set(e.form1,"telephone",t)},expression:"form1.telephone"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form1.comment,callback:function(t){e.$set(e.form1,"comment",t)},expression:"form1.comment"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.form1onSubmit}},[e._v("确 定")])],1)],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[o("el-table-column",{attrs:{type:"index",index:e.indexMethod}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"姓名",sortable:""}}),e._v(" "),o("el-table-column",{attrs:{prop:"address",label:"地址",sortable:""}}),e._v(" "),o("el-table-column",{attrs:{prop:"mobile",label:"手机",sortable:""}}),e._v(" "),o("el-table-column",{attrs:{prop:"telephone",label:"电话",sortable:""}}),e._v(" "),o("el-table-column",{attrs:{prop:"address_type",label:"地址类型",sortable:""}}),e._v(" "),o("el-table-column",{attrs:{prop:"comment",label:"备注",sortable:""}}),e._v(" "),o("el-table-column",{attrs:{prop:"head_img",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){e.handleDelete(t.$index,t.row,e.tableData)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("div",{staticClass:"block"},[o("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]},i=o("VU/8")(l,s,!1,null,null,null);t.default=i.exports}});